# vi: ft=sh

alias __A=`echo "\020"` # up arrow = ^p = back a command
alias __B=`echo "\016"` # down arrow = ^n = down a command
alias __C=`echo "\006"` # right arrow = ^f = forward a character
alias __D=`echo "\002"` # left arrow = ^b = back a character
alias __H=`echo "\001"` # home = ^a = start of line
alias __Y=`echo "\005"` # end = ^e = end of line

# ------------------------------------------------------------------------------
# basic
# ------------------------------------------------------------------------------

HISTFILE="$HOME/.ksh_history"
HISTSIZE=5000

# \[ ... \] is not conuted
PS1='\[\e]2;$PWD\a\]' # set title to pwd
PS1=$PS1'\[\e[37m\]' # gray
PS1=$PS1'\w' # pwd
PS1=$PS1'\[\e[0;0m\]' # reset
PS1=$PS1' $ '

# ------------------------------------------------------------------------------
# shortcuts
# ------------------------------------------------------------------------------

d=~/dev
c=~/dev/config

# ------------------------------------------------------------------------------
# preferences
# ------------------------------------------------------------------------------

PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/X11R6/bin:/usr/local/bin:/usr/local/sbin:/usr/games
PATH=$HOME/bin:$PATH
export PATH

export EDITOR=vise
export FCEDIT=$EDITOR
export PAGER=less
export BROWSER=firefox

export MOZ_ACCELERATED=1 # make firefox render quickly

bind '^L'=clear-screen
bind -m '^[l'='^Uls^J'

alias ls='colorls -G'
alias tree='colortree -C'

set -o emacs
set -A complete_git -- status commit push log diff

# ------------------------------------------------------------------------------
# makefile completion
# ------------------------------------------------------------------------------

complete_make() {
	if [ -e GNUmakefile -o -e makefile -o -e Makefile ]; then
		targets=$(cat Makefile | egrep "^[[:alnum:][:punct:]]{0,}:[[:space:]]{0,}[[:alnum:][:punct:][:space:]]{0,}$" | tr -d :)
		set -A complete_make -- $targets
		set -A complete_gmake -- $targets
	fi
}
complete_make

cd() {
	\builtin cd $@
	complete_make
}
